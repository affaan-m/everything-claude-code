# Contexts（コンテキスト）解説

## コンテキストとは

**コンテキスト**は、Claude Codeの動作モードを切り替えるための動的システムプロンプト注入ファイルです。作業の種類に応じて、Claudeの振る舞いや優先順位を変更します。

### 配置場所

```
~/.claude/contexts/
```

### 使い方

セッション開始時や作業切り替え時に、適切なコンテキストを読み込ませることで、Claudeの動作モードを変更できます。

---

## コンテキスト一覧

| コンテキスト | モード | フォーカス | 主な用途 |
|-------------|--------|-----------|---------|
| **dev.md** | 開発モード | 実装・コーディング・機能構築 | 新機能開発、バグ修正、コード記述 |
| **review.md** | レビューモード | 品質・セキュリティ・保守性 | PRレビュー、コード分析 |
| **research.md** | リサーチモード | 理解・調査・学習 | コードベース調査、技術調査 |

---

## 各コンテキストの詳細

### dev.md - 開発モード

**フォーカス**: 実装、コーディング、機能構築

#### 振る舞い
- コードを先に書き、説明は後
- 完璧な解決策より動く解決策を優先
- 変更後にテストを実行
- コミットはアトミックに

#### 優先順位
1. まず動かす（Get it working）
2. 正しくする（Get it right）
3. きれいにする（Get it clean）

#### 使用するツール
- `Edit`, `Write` - コード変更
- `Bash` - テスト/ビルド実行
- `Grep`, `Glob` - コード検索

---

### review.md - レビューモード

**フォーカス**: 品質、セキュリティ、保守性

#### 振る舞い
- コメント前に徹底的に読む
- 問題を重大度で優先順位付け（critical > high > medium > low）
- 問題の指摘だけでなく、修正案を提案
- セキュリティ脆弱性をチェック

#### レビューチェックリスト
- [ ] ロジックエラー
- [ ] エッジケース
- [ ] エラーハンドリング
- [ ] セキュリティ（インジェクション、認証、シークレット）
- [ ] パフォーマンス
- [ ] 可読性
- [ ] テストカバレッジ

#### 出力形式
ファイルごとにグループ化、重大度順

---

### research.md - リサーチモード

**フォーカス**: 理解、調査、学習

#### 振る舞い
- 結論を出す前に広く読む
- 明確化のための質問をする
- 発見を進行中に記録
- 理解が明確になるまでコードを書かない

#### リサーチプロセス
1. 質問を理解する
2. 関連コード/ドキュメントを探索
3. 仮説を形成
4. 証拠で検証
5. 発見を要約

#### 使用するツール
- `Read` - コード理解
- `Grep`, `Glob` - パターン検索
- `WebSearch`, `WebFetch` - 外部ドキュメント
- `Task` with Explore agent - コードベースの質問

#### 出力形式
発見が先、推奨は後

---

## カスタマイズ提案

### 1. 新しいコンテキストの追加

プロジェクトや作業スタイルに応じて追加可能：

- `debug.md` - デバッグモード（ログ重視、ステップバイステップ）
- `deploy.md` - デプロイモード（慎重、ロールバック準備）
- `learning.md` - 学習モード（詳細な説明、例示重視）
- `quick.md` - 高速モード（最小限の説明、効率重視）

### 2. プロジェクト固有のコンテキスト

特定のプロジェクト用にカスタマイズ：

```markdown
# [Project Name] Development Context

Mode: Active development
Focus: [プロジェクト固有のフォーカス]

## Project-Specific Rules
- [プロジェクト固有のルール1]
- [プロジェクト固有のルール2]

## Tech Stack
- Frontend: [使用技術]
- Backend: [使用技術]
- Database: [使用技術]
```

### 3. コンテキストの切り替え方法

セッション中に明示的にコンテキストを切り替える：

```
「レビューモードに切り替えて、このPRをチェックして」
「リサーチモードで、この機能の実装方法を調査して」
```

---

## 参考リンク

- [ロングフォームガイド - コンテキスト](longform-guide_ja.md)
- [元リポジトリ - contexts/](https://github.com/affaan-m/everything-claude-code/tree/main/contexts)
