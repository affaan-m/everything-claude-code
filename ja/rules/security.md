# セキュリティガイドライン

## 必須セキュリティチェック

コミット前に必ず確認:
- [ ] ハードコードされた秘密情報がないこと（APIキー、パスワード、トークン）
- [ ] すべてのユーザー入力が検証されていること
- [ ] SQLインジェクション対策（パラメータ化クエリ）
- [ ] XSS対策（HTMLのサニタイズ）
- [ ] CSRF保護が有効であること
- [ ] 認証・認可が検証されていること
- [ ] すべてのエンドポイントにレート制限があること
- [ ] エラーメッセージに機密データが含まれていないこと

## 秘密情報の管理

```typescript
// 絶対にやってはいけない: ハードコードされた秘密情報
const apiKey = "sk-proj-xxxxx"

// 必ずこうする: 環境変数
const apiKey = process.env.OPENAI_API_KEY

if (!apiKey) {
  throw new Error('OPENAI_API_KEY not configured')
}
```

## セキュリティ対応プロトコル

セキュリティ問題が見つかった場合:
1. 直ちに作業を停止
2. **security-reviewer** エージェントを使用
3. クリティカルな問題を先に修正
4. 漏洩した秘密情報をローテーション
5. 同様の問題がないかコードベース全体をレビュー
